require(["common"],function(){require(["app/signin-init"])}),define("signin-script",function(){}),define("SigninView",["BaseView","users"],function(e,t){var n=e.extend({el:"#signin-form",events:{"click #submit-form":"validateUser"},initialize:function(){_.deleteCookie("user"),localStorage.removeItem("user")},validateUser:function(e){e.preventDefault();var n=this.$("#user-email").val(),r=this.$("#user-password").val(),i=t.findWhere({userEmail:n}),s={};this.clearErrors(),n?_.isEmail(n)?i||(s.userEmail="Такого e-mail не має в базі:"):s.userEmail="Введіть валідний e-mail:":s.userEmail="Введіть e-mail:",r?i&&r!==i.get("userPassword")&&(s.userPassword="Невірний пароль:"):s.userPassword="Введіть пароль:",_.isEmpty(s)?this.onSuccess(n):this.showErrors(null,s)},onSuccess:function(e){var t=window.location.pathname;document.cookie="user="+e,localStorage.setItem("user",e),window.location.pathname=t.replace("sign-in.html","theme.html")}});return n}),define("app/signin-init",["jquery","SigninView","helpers"],function(e,t){e(function(){new t})});