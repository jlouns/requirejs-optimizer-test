define(["text!templates/theme-template.html","BaseView","users","dragula","BlockquoteWidgetView","ButtonWidgetView","ContactsWidgetView","CounterWidgetView","FooterWidgetView","GalleryWidgetView","H1WidgetView","H2WidgetView","HrWidgetView","ImageTextWidgetView","ImageWidgetView","MapWidgetView","MenuWidgetView","ParagraphWidgetView","SocialLikeWidgetView","SocialShareWidgetView","VideoWidgetView","WellWidgetView"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E){var S=t.extend({el:"#constructor-widget",events:{click:"editElement"},template:_.template(e),initialize:function(){var e=n.findWhere({userEmail:_.getCookieValue("user")||localStorage.getItem("user")}),t,f;this.$el.append(this.template(e.get("themeConfig"))),this.$("#constructor-row-1 > div > div").append((new c).render().el),this.$("#constructor-row-2 > div > div").each(function(e,t){$(t).append((new g).render().el)}),this.$("#constructor-row-3 > div > div").each(function(e,t){$(t).append((new g).render().el).append((new u).render().el).append((new s).render().el)}),f=r([document.querySelector("#constructor-elements")],{copy:function(e,t){return t.id==="constructor-elements"}}),t=this.$("div").not(".row, .container"),t.each(function(e,t){f.containers.push(t)}),f.on("drop",function(e,t,n,r){var f=$(e),m=f.data("function");if(m=="addH1"){var S=(new l).render().el;f.replaceWith(S)}if(m=="addH2"){var x=(new c).render().el;f.replaceWith(x)}if(m=="addBlockquote"){var T=(new i).render().el;f.replaceWith(T)}if(m=="addParagraph"){var N=(new g).render().el;f.replaceWith(N)}if(m=="addWell"){var C=(new E).render().el;f.replaceWith(C)}if(m=="addHr"){var k=(new h).render().el;f.replaceWith(k)}if(m=="addImage"){var L=(new d).render().el;f.replaceWith(L)}if(m=="addImageWithText"){var A=(new p).render().el;f.replaceWith(A)}if(m=="addSocialLike"){var O=(new y).render().el;f.replaceWith(O)}if(m=="addSocialShare"){var M=(new b).render().el;f.replaceWith(M)}if(m=="addFooter"){var _=(new a).render().el;f.replaceWith(_)}if(m=="addButton"){var D=(new s).render().el;f.replaceWith(D)}if(m=="addCounter"){var P=(new u).render().el;f.replaceWith(P)}if(m=="addMap"){var H=(new v).render().el;f.replaceWith(H)}if(m=="addVideo"){var B=(new w).render().el;f.replaceWith(B)}if(m=="addContacts"){var j=(new o).render().el;f.replaceWith(j)}})}});return S});