define(["BaseView","UserModel","users"],function(e,t,n){var r=e.extend({el:"#registration-form",events:{"click #submit-form":"submit"},initialize:function(){this.model=new t,this.listenTo(this.model,"invalid",this.showErrors)},submit:function(e){function s(e){r[_.capitalize(e.id)]=e.value}var t=this.$(".sidebar__input"),r={},i=window.location.pathname;e.preventDefault(),this.clearErrors(),_.each(t,s,this),this.model.set(r),this.model.isValid()&&(this.stopListening(this.model),this.$("input.sidebar__input").val(""),n.create(this.model),this.$(".sidebar__submit").after('<div class="sidebar__success">Дякуємо за реєстрацію! Через 5 секунд Вас буде переадресовано на сторінку входу</div>'),setTimeout(function(){window.location.pathname.indexOf("index.html")===-1?window.location.pathname="sign-in.html":window.location.pathname=i.replace("index.html","sign-in.html")},5e3))}});return r});